set -g default-terminal "${TERM}"
set -g mouse on

# Set prefix
unbind C-b
set -g prefix C-space
bind C-Space send-prefix

unbind '"'
unbind '%'
unbind 'v'
unbind 's'
unbind 'E'
unbind '='

# vim-like bindings for splitting panes
bind 'v' split-pane -h
bind 's' split-pane -v
bind '=' select-layout -E

bind 'x' kill-pane
bind 'X' kill-window

# Start windows and panes at 1, not 0
set -g base-index 1
set -g pane-base-index 1
set-window-option -g pane-base-index 1
set-option -g renumber-windows on

# set -g set-clipboard on
set -s copy-command 'xclip -selection "clipboard" -r -i'

# bind -n C-H previous-window
# bind -n C-L next-window
set -g status-position top

# List of plugins
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'

set -g @plugin 'egel/tmux-gruvbox'
set -g @tmux-gruvbox 'dark256' # or 'light256'

set -g @vim_navigator_mapping_prev ""  # removes the C-\ binding
set -g @plugin 'christoomey/vim-tmux-navigator'

set -g @plugin 'laktak/extrakto'
set -g @plugin 'b0o/tmux-autoreload'

# If you are using tmux-continuum, make sure it is loaded before this plugin (tmux-toggle-popup).
# This is only required when you enable @popup-autostart.
set -g @plugin "tmux-plugins/tmux-continuum"

set -g @resurrect-capture-pane-contents 'on'
set -g @plugin 'tmux-plugins/tmux-resurrect'

bind -n C-t run "#{@popup-toggle} -w90% -h90% -Ed'{popup_caller_pane_path}'"
bind -n C-g run "#{@popup-toggle} -w90% -h90% -Ed'{popup_caller_pane_path}' --name=lazygit lazygit"

# Turn on autostart to boost the first call of @popup-toggle.
set -g  @popup-autostart on
set -g @plugin "loichyan/tmux-toggle-popup"

# Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf)
run '~/.config/tmux/plugins/tpm/tpm'
